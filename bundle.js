(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),flatten=function(e){var t=function(t){e[t]=[].concat.apply([],Object.keys(e[t]).map(function(a){return[].concat.apply([],Object.keys(e[t][a]).map(function(n){return Object.keys(e[t][a][n]).map(function(r){return e[t][a][n][r]})}))}))};for(var a in e)t(a);return e},App=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return a.state={data:{},filteredData:{},semester:"",allAttributes:[],allSubjects:[],pages:1,filters:{status:{query:null,func:function(e,t){return e.filter(function(e){return!t||e.STATUS===t})}},subjects:{query:[],func:function(e,t){return e.filter(function(e){return!t.length||t.some(function(t){return t===e.dept})})}},attributes:{query:[],func:function(e,t){return e.filter(function(e){return!t.length||t.reduce(function(t,a){return t&&e["CRSE ATTR"].includes(a)},!0)})}},title:{query:null,func:function(e,t){return e.filter(function(e){return!t||e.TITLE.toLowerCase().indexOf(t.toLowerCase())>-1})}}}},a.onSemesterChange=a.onSemesterChange.bind(a),a.filter=a.filter.bind(a),a.onFilter=a.onFilter.bind(a),a.loadPage=a.loadPage.bind(a),a.removeFilter=a.removeFilter.bind(a),a}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://wm-course-data.herokuapp.com/courses").then(function(e){return e.json()}).then(function(t){t=flatten(t);var a=Object.keys(t)[0],n=[].concat.apply([],[].concat.apply([],Object.keys(t).map(function(e){return t[e]})).map(function(e){return e["CRSE ATTR"]})).filter(function(e,t,a){return t===a.indexOf(e)}).sort(),r=[].concat.apply([],[].concat.apply([],Object.keys(t).map(function(e){return t[e]})).map(function(e){return e.dept})).filter(function(e,t,a){return t===a.indexOf(e)}).sort();e.setState({data:t,filteredData:JSON.parse(JSON.stringify(t)),semester:a,allAttributes:n,allSubjects:r},e.filter)})}},{key:"onSemesterChange",value:function(e){this.setState({semester:e.target.value,pages:1},this.filter)}},{key:"filter",value:function e(){var t=this.state,a=t.data,n=t.filters,r=t.semester,l=JSON.parse(JSON.stringify(a));for(var e in n)l[r]&&(l[r]=n[e].func(l[r],n[e].query));this.setState({filteredData:l})}},{key:"onFilter",value:function(e,t){var a=this.state.filters;Array.isArray(a[e].query)?"null"!==t.target.value?a[e].query.push(t.target.value):a[e].query=[]:a[e].query="null"===t.target.value?null:t.target.value,this.setState({filters:a},this.filter)}},{key:"loadPage",value:function(){this.setState({pages:++this.state.pages})}},{key:"removeFilter",value:function(e,t){var a=this.state.filters;a[e].query=a[e].query.filter(function(e){return e!==t}),this.setState({filters:a},this.filter)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.pages,r=t.filters,l=t.semester,c=t.allSubjects,i=t.filteredData,s=t.allAttributes;return React.createElement("div",{className:"container mb2"},React.createElement("div",{style:{borderBottom:"#000 1px solid"}},React.createElement("div",{className:"center"},React.createElement("h2",null,"W&M Course Search"))),React.createElement("div",{className:"row mt1"},React.createElement("div",{className:"col s12 m6 l6 mb1"},React.createElement("div",null,"Semester"),React.createElement("div",{className:"input-field"},React.createElement("select",{className:"browser-default",onChange:this.onSemesterChange.bind(this)},Object.keys(a).map(function(e,t){return React.createElement("option",{key:t,value:e},e)})))),React.createElement("div",{className:"col s12 m6 l6 mb1"},React.createElement("div",null,"Subject"),React.createElement("div",{className:"input-field"},React.createElement("select",{className:"browser-default",onChange:this.onFilter.bind(this,"subjects")},React.createElement("option",{value:"null"},"ALL"),c.map(function(e,t){return React.createElement("option",{key:t,value:e},e)})))),React.createElement("div",{className:"col s12 m6 l6 mb1"},React.createElement("div",null,"Status"),React.createElement("div",{className:"input-field"},React.createElement("select",{className:"browser-default",onChange:this.onFilter.bind(this,"status")},React.createElement("option",{value:"null"},"ALL"),a[l]&&a[l].map(function(e){return e.STATUS}).filter(function(e,t,a){return t===a.indexOf(e)}).map(function(e,t){return React.createElement("option",{key:t,value:e},e)})))),React.createElement("div",{className:"col s12 m6 l6 mb1"},React.createElement("div",null,"Attribute"),React.createElement("div",{className:"input-field"},React.createElement("select",{className:"browser-default",onChange:this.onFilter.bind(this,"attributes")},React.createElement("option",{value:"null"},"Any"),s.map(function(e,t){return React.createElement("option",{key:t,value:e},e)}))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"input-field col s12 m8 l6 offset-m2 offset-l3"},React.createElement("input",{id:"search",type:"text",onChange:this.onFilter.bind(this,"title")}),React.createElement("label",{htmlFor:"search"},"Search for a class"))),React.createElement("div",null,Object.keys(r).filter(function(e){return r[e].query&&Array.isArray(r[e].query)}).map(function(t,a){return React.createElement("div",{key:a,className:"flex-container"},r[t].query.map(function(a,n){return React.createElement("div",{key:n,className:"valign-wrapper mr1 pr1 border mb1"},React.createElement("i",{className:"material-icons hover-red clickable valign",onClick:e.removeFilter.bind(e,t,a)},"close"),React.createElement("span",null,a))}))})),React.createElement("div",null,React.createElement("table",{className:"striped"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Subject"),React.createElement("th",null,"Level"),React.createElement("th",null,"Title"),React.createElement("th",null,"Instructor"),React.createElement("th",null,"Credits"),React.createElement("th",null,"Section"),React.createElement("th",null,"Days"),React.createElement("th",null,"Meet Times"),React.createElement("th",null,"Seats Available"),React.createElement("th",null,"Attributes"))),React.createElement("tbody",null,i[l]&&i[l].slice(0,50*n).map(function(e,t){return React.createElement("tr",{key:t},React.createElement("td",null,e.dept),React.createElement("td",null,e.level),React.createElement("td",null,e.TITLE),React.createElement("td",null,React.createElement("a",{href:"http://www.ratemyprofessors.com/search.jsp?query="+e.INSTRUCTOR.replace(/, /g,"+"),target:"_blank"},e.INSTRUCTOR)),React.createElement("td",null,e["CRDT HRS"]),React.createElement("td",null,e.section),React.createElement("td",null,e["MEET DAYS"]),React.createElement("td",null,e["MEET TIMES"]),React.createElement("td",null,e["SEATS AVAIL"]),React.createElement("td",null,e["CRSE ATTR"].join(", ")))})))),React.createElement("div",{className:"center"},React.createElement("a",{className:"btn-floating btn-large waves-effect waves-light red"},React.createElement("i",{className:"material-icons",onClick:this.loadPage},"add"))))}}]),t}(React.Component);ReactDOM.render(React.createElement(App,null),document.getElementById("app"));
},{}]},{},[1])


//# sourceMappingURL=bundle.map.json